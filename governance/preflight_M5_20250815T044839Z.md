# M5 Preflight — Secrets & Permissions

## Metadata
- **Repository:** Huyen1974/agent-data-test
- **Branch:** main
- **Generated:** 20250815T044839Z
- **Script Version:** M5.PRE-CLI-01

## Executive Summary
✅ **PASS** - All preflight checks passed successfully

## Referenced Secrets in Workflows
- `GCP_PROJECT_ID`
- `GCP_SA_KEY_JSON`
- `GCP_SERVICE_ACCOUNT`
- `GCP_WIF_POOL`
- `GCP_WIF_PROVIDER`
- `GITHUB_TOKEN`
- `OPENAI_API_KEY`
- `QDRANT_CLOUD_MGMT_KEY`
- `QDRANT_CLUSTER1_ID`
- `QDRANT_CLUSTER1_KEY`

## Missing Secrets
These secrets are referenced in workflows but not found in repository or environments:
_No missing secrets_

## Referenced Variables (vars.*)
_No variables referenced in workflows_

## Missing Variables
These variables are referenced in workflows but not found in repository:
_No missing variables_

## Cloud OIDC Authentication Workflows
- `.github/workflows/lint-only.yml`

### Workflows Missing Required Permissions
These workflows use cloud authentication but lack 'permissions: id-token: write':
_All OIDC workflows have proper permissions_

## Repository Workflow Permissions
- **Default workflow permissions:** `read`

## Key CI/CD Health Check
Status of critical workflows (latest run):
- **wif-gsm-smoke.yml:** `no-data`
- **sync-secrets.yml:** `completed/failure`
- **security-verify.yml:** `no-data`

## Recommendations
## Compliance Notes
- This preflight check ensures compliance with M5.PRE-CLI-01 requirements
- Validates secrets and permissions before Terraform/WIF deployment
- Evidence-based validation with idempotent execution
- Report committed only when all checks pass

## Technical Details
- **Script:** `scripts/m5_preflight_secrets_permissions.sh`
- **Execution time:** `Fri Aug 15 04:48:45 UTC 2025`
- **Repository URL:** `https://github.com/Huyen1974/agent-data-test`
- **Commit SHA:** `ad76aed01a770ed7031d49db6accffe2543eb2d8`
