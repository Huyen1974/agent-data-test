{
  "constitution_commit": "f3f990328e7e461df3ba0159c1fc71a5e2680664",
  "count": 78,
  "items": [
    {
      "cid": "ART.1",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L31",
      "group": "Artifact",
      "level": "MUST",
      "phase": "SG",
      "text": "**C\u1ea5u tr\u00fac Phong b\u00ec Tin nh\u1eafn (Message Envelope v2.2 - B\u1eaeT BU\u1ed8C):** (B\u1ed5 sung resource_links, context_id, v\u00e0 quy \u0111\u1ecbnh encryption cho payload sensitive.)"
    },
    {
      "cid": "ART.10",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L99",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**(B\u1ed5 sung)** N\u1ebfu m\u1ed9t tin nh\u1eafn b\u1ecb x\u1eed l\u00fd sau khi ttl_sec \u0111\u00e3 h\u1ebft h\u1ea1n, Agent ph\u1ea3i t\u1eeb ch\u1ed1i v\u00e0 tr\u1ea3 v\u1ec1 l\u1ed7i EXPIRED. N\u1ebfu v\u01b0\u1ee3t quota, tr\u1ea3 l\u1ed7i RATE_LIMIT_EXCEEDED."
    },
    {
      "cid": "ART.11",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L101",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**Quy t\u1eafc V\u1eadn chuy\u1ec3n & T\u1ea3i l\u1edbn (Transport & Large Payloads):** (Tinh ch\u1ec9nh ch\u00ednh s\u00e1ch Signed URL si\u1ebft ch\u1eb7t.)"
    },
    {
      "cid": "ART.12",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L111",
      "group": "Artifact",
      "level": "MUST",
      "phase": "SG",
      "text": "**(Tinh ch\u1ec9nh)** N\u1ebfu payload qu\u00e1 l\u1edbn, artifact_uri b\u1eaft bu\u1ed9c ph\u1ea3i l\u00e0 m\u1ed9t GCS Signed URL **ch\u1ec9 cho ph\u00e9p \u0111\u1ecdc (GET-only)**, c\u00f3 **TTL \u2264 15 ph\u00fat**, \u0111i k\u00e8m v\u1edbi artifact_hash (SHA-256), MIME whitelist, fixed bucket, no-list."
    },
    {
      "cid": "ART.13",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L125",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**M\u00f4 h\u00ecnh Ki\u1ebfn tr\u00fac:** (Tinh ch\u1ec9nh) \u00c1p d\u1ee5ng m\u1eabu thi\u1ebft k\u1ebf **Saga**, \u0111\u01b0\u1ee3c hi\u1ec7n th\u1ef1c h\u00f3a b\u1eb1ng **Google Cloud Workflows** ho\u1eb7c c\u00e1c framework \u0111i\u1ec1u ph\u1ed1i \u0111a-agent nh\u01b0 **LangChain CrewAI** (multi-agent teams, MCP streamable May 8 2025) ho\u1eb7c Langroid MAP (delegation Sep 2025)."
    },
    {
      "cid": "ART.14",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L127",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**H\u1ec7 th\u1ed1ng Agent Chuy\u00ean bi\u1ec7t:** (Gi\u1eef nguy\u00ean t\u1eeb v3.0) Process Agent, Data Agent, Verifier Agent, Notifier Agent."
    },
    {
      "cid": "ART.15",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L129",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**H\u1ee3p \u0111\u1ed3ng B\u1eb1ng ch\u1ee9ng X\u00e1c minh (Verifier Artifact Contract):** (Gi\u1eef nguy\u00ean t\u1eeb v3.0) Verifier Agent khi t\u1ea1o b\u1eb1ng ch\u1ee9ng ph\u1ea3i tr\u1ea3 v\u1ec1 \u0111\u1ed1i t\u01b0\u1ee3ng c\u00f3 c\u1ea5u tr\u00fac: { \"artifact_uri\", \"artifact_hash\", \"content_type\", \"evidence_ts\", \"source_kind\" }."
    },
    {
      "cid": "ART.16",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L135",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**X\u00e1c th\u1ef1c Agent-to-Agent (A2A):** (Tinh ch\u1ec9nh) principal trong Message Envelope ph\u1ea3i \u0111\u01b0\u1ee3c x\u00e1c th\u1ef1c qua Google Cloud IAM ho\u1eb7c JWT. C\u00e1c client b\u00ean ngo\u00e0i ph\u1ea3i tu\u00e2n th\u1ee7 c\u00e1c ti\u00eau chu\u1ea9n b\u1ea3o m\u1eadt n\u00e2ng cao nh\u01b0 **OAuth 2.0 Resource Indicators (RFC 8707)** (MCP Jun 18 2025 ch\u1ed1ng malicious)."
    },
    {
      "cid": "ART.17",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L139",
      "group": "Artifact",
      "level": "MUST",
      "phase": "SG",
      "text": "Th\u00f4ng \u0111i\u1ec7p t\u1eeb external agents B\u1eaeT BU\u1ed8C ph\u1ea3i k\u00e8m ch\u1eef k\u00fd JWS (thu\u1eadt to\u00e1n Ed25519/EdDSA); header ph\u1ea3i c\u00f3 kid (key ID) v\u00e0 ch\u00ednh s\u00e1ch lu\u00e2n chuy\u1ec3n kh\u00f3a l\u00e0 90 ng\u00e0y. C\u00e1c y\u00eau c\u1ea7u c\u00f3 thu\u1eadt to\u00e1n kh\u00f4ng n\u1eb1m trong danh s\u00e1ch cho ph\u00e9p s\u1ebd b\u1ecb t\u1eeb ch\u1ed1i.."
    },
    {
      "cid": "ART.18",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L260",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "M\u00e3 ngu\u1ed3n m\u1eabu cho m\u1ed9t Saga \u0111\u01a1n gi\u1ea3n tr\u00ean Google Cloud Workflows (t\u00edch h\u1ee3p LangChain CrewAI)."
    },
    {
      "cid": "ART.2",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L83",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**M\u00e1y tr\u1ea1ng th\u00e1i & Quy t\u1eafc Ph\u1ea3n h\u1ed3i (State Machine & Response - Tinh ch\u1ec9nh):** (B\u1ed5 sung c\u00e1c tr\u1ea1ng th\u00e1i v\u00e0 quy t\u1eafc h\u1ee7y t\u00e1c v\u1ee5 \u0111\u1ea7y \u0111\u1ee7.)"
    },
    {
      "cid": "ART.3",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L85",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**M\u00e1y tr\u1ea1ng th\u00e1i:** M\u1ed9t t\u00e1c v\u1ee5 s\u1ebd \u0111i qua c\u00e1c tr\u1ea1ng th\u00e1i: ACKED \u2192 RUNNING \u2192 (SUCCEEDED | FAILED) \u2192 (COMPENSATED? | CANCELLED?)."
    },
    {
      "cid": "ART.4",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L87",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**Ph\u1ea3n h\u1ed3i:**"
    },
    {
      "cid": "ART.5",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L89",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**\u0110\u1ed3ng b\u1ed9 (<2s):** Tr\u1ea3 v\u1ec1 SUCCEEDED ho\u1eb7c FAILED."
    },
    {
      "cid": "ART.6",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L91",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**B\u1ea5t \u0111\u1ed3ng b\u1ed9:** Tr\u1ea3 v\u1ec1 ACKED, sau \u0111\u00f3 ph\u00e1t c\u00e1c s\u1ef1 ki\u1ec7n *.running, *.done."
    },
    {
      "cid": "ART.7",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L93",
      "group": "Artifact",
      "level": "MUST",
      "phase": "SG",
      "text": "**H\u1ee7y t\u00e1c v\u1ee5:** M\u1ed9t Agent c\u00f3 th\u1ec3 g\u1eedi m\u1ed9t h\u00e0nh \u0111\u1ed9ng *.cancel. N\u1ebfu t\u00e1c v\u1ee5 \u0111ang \u1edf tr\u1ea1ng th\u00e1i RUNNING, n\u00f3 s\u1ebd chuy\u1ec3n sang CANCELLED v\u00e0 k\u00edch ho\u1ea1t h\u00e0nh \u0111\u1ed9ng b\u00f9 tr\u1eeb (compensation) n\u1ebfu c\u1ea7n; semantics at-least-once, \u0111\u00edch MUST dedupe theo idempotency_key v\u00e0 b\u1ecf qua out-of-order n\u1ebfu seq < last_seq_seen."
    },
    {
      "cid": "ART.8",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L95",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "**Ph\u00e2n lo\u1ea1i L\u1ed7i & TTL (Error Taxonomy & TTL):** (B\u1ed5 sung m\u00e3 l\u1ed7i EXPIRED v\u00e0 RATE_LIMIT_EXCEEDED.)"
    },
    {
      "cid": "ART.9",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L97",
      "group": "Artifact",
      "level": "SHOULD",
      "phase": "SG",
      "text": "(Gi\u1eef nguy\u00ean t\u1eeb v3.0) M\u00e3 l\u1ed7i chu\u1ea9n: UNAUTHORIZED (401), FORBIDDEN (403), NOT_FOUND (404)..."
    },
    {
      "cid": "ASY.1",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L19",
      "group": "Async & State",
      "level": "SHOULD",
      "phase": "RO",
      "text": "**Nguy\u00ean t\u1eafc M\u1edf r\u1ed9ng v\u00e0 B\u1ec1n b\u1ec9 (Scalability & Resilience):** (Tinh ch\u1ec9nh t\u1eeb v3.0) H\u1ec7 th\u1ed1ng ph\u1ea3i \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 x\u1eed l\u00fd h\u00e0ng tr\u0103m Agent v\u00e0 quy tr\u00ecnh \u0111\u1ed3ng th\u1eddi, v\u1edbi c\u01a1 ch\u1ebf t\u1ef1 ph\u1ee5c h\u1ed3i (retry, DLQ) v\u00e0 ph\u00e2n t\u1ea3i, \u0111\u1ed3ng th\u1eddi t\u1eadn d\u1ee5ng m\u00e3 ngu\u1ed3n hi\u1ec7n c\u00f3 t\u1eeb c\u00e1c framework nh\u01b0 LangChain CrewAI (multi-agent teams, MCP streamable May 8 2025) ho\u1eb7c Langroid MAP (delegation Sep 2025) \u0111\u1ec3 gi\u1ea3m thi\u1ec3u vi\u1ebft m\u00e3 m\u1edbi."
    },
    {
      "cid": "ASY.10",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L268",
      "group": "Async & State",
      "level": "SHOULD",
      "phase": "RO",
      "text": "(B\u1ed5 sung c\u00e1c thu\u1eadt ng\u1eef m\u1edbi nh\u01b0 A2A, ACP, OAS, MCP, Saga, DLQ, SLOs...)"
    },
    {
      "cid": "ASY.2",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L25",
      "group": "Async & State",
      "level": "SHOULD",
      "phase": "RO",
      "text": "**Ti\u00eau chu\u1ea9n \u00c1p d\u1ee5ng:** (Tinh ch\u1ec9nh t\u1eeb v3.0) N\u1ec1n t\u1ea3ng l\u00e0 **OpenAI Function Calling**, \u0111\u01b0\u1ee3c th\u1ef1c thi th\u00f4ng qua m\u1ed9t **Message Envelope** chu\u1ea9n h\u00f3a, hybrid v\u1edbi MCP structured output (Jun 18 2025) \u0111\u1ec3 h\u1ed7 tr\u1ee3 tool results/resource links."
    },
    {
      "cid": "ASY.3",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L29",
      "group": "Async & State",
      "level": "MUST",
      "phase": "RO",
      "text": "payload.schema_version MUST map t\u1edbi m\u1ed9t JSON Schema trong repo schemas/\u2026; CI BLOCK n\u1ebfu payload kh\u00f4ng validate. SDK TS/Python MUST be generated t\u1eeb OpenAPI/JSON-Schema; kh\u00f4ng merge n\u1ebfu SDK kh\u00f4ng \u0111\u1ed3ng b\u1ed9."
    },
    {
      "cid": "ASY.4",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L147",
      "group": "Async & State",
      "level": "MUST",
      "phase": "RO",
      "text": "**H\u00e0ng \u0111\u1ee3i & DLQ:** (Gi\u1eef nguy\u00ean t\u1eeb v3.0) B\u1eaft bu\u1ed9c c\u00f3 DLQ, retry 6 l\u1ea7n v\u1edbi exponential backoff + jitter; DLQ redrive th\u1ee7 c\u00f4ng v\u1edbi audit (d\u00f9ng tool TD-APP-02)."
    },
    {
      "cid": "ASY.5",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L149",
      "group": "Async & State",
      "level": "SHOULD",
      "phase": "RO",
      "text": "**Gi\u00e1m s\u00e1t & Truy v\u1ebft (Trace & Observability):** (B\u1ed5 sung metric retry.)"
    },
    {
      "cid": "ASY.6",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L151",
      "group": "Async & State",
      "level": "SHOULD",
      "phase": "RO",
      "text": "(Gi\u1eef nguy\u00ean t\u1eeb v3.0) trace_id ph\u1ea3i \u0111\u01b0\u1ee3c truy\u1ec1n su\u1ed1t."
    },
    {
      "cid": "ASY.7",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L153",
      "group": "Async & State",
      "level": "MUST",
      "phase": "RO",
      "text": "**(B\u1ed5 sung)** Metrics b\u1eaft bu\u1ed9c: a2a_requests_total, a2a_latency_ms, a2a_dlq_total, a2a_retries_total (v\u1edbi nh\u00e3n: action, tenant, principal, status, error.code); monitor quota points MCP advanced (Jun 18 2025)."
    },
    {
      "cid": "ASY.8",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L155",
      "group": "Async & State",
      "level": "SHOULD",
      "phase": "RO",
      "text": "SLOs t\u1ed1i thi\u1ec3u: ACK P95 \u2264 1s, Job-done P95 \u2264 ETA + 60s, DLQ/ng\u00e0y \u2264 0.1%."
    },
    {
      "cid": "ASY.9",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L266",
      "group": "Async & State",
      "level": "SHOULD",
      "phase": "RO",
      "text": "**B\u1ea3ng thu\u1eadt ng\u1eef:**"
    },
    {
      "cid": "ENV.1",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L37",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'version' present and validated"
    },
    {
      "cid": "ENV.10",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L55",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'ttl_sec' present and validated"
    },
    {
      "cid": "ENV.11",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L57",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'idempotency_key' present and validated"
    },
    {
      "cid": "ENV.12",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L59",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'seq' present and validated"
    },
    {
      "cid": "ENV.13",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L61",
      "group": "Envelope",
      "level": "MUST",
      "phase": "PF",
      "text": "Envelope field 'action' present and validated"
    },
    {
      "cid": "ENV.14",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L63",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'action_version' present and validated"
    },
    {
      "cid": "ENV.15",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L65",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'context_id' present and validated"
    },
    {
      "cid": "ENV.16",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L67",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'resource_links' present and validated"
    },
    {
      "cid": "ENV.17",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L69",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'payload' present and validated"
    },
    {
      "cid": "ENV.18",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L71",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'schema_version' present and validated"
    },
    {
      "cid": "ENV.2",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L39",
      "group": "Envelope",
      "level": "MUST",
      "phase": "PF",
      "text": "Envelope field 'request_id' present and validated"
    },
    {
      "cid": "ENV.3",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L41",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'correlation_id' present and validated"
    },
    {
      "cid": "ENV.4",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L43",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'causation_id' present and validated"
    },
    {
      "cid": "ENV.5",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L45",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'trace_id' present and validated"
    },
    {
      "cid": "ENV.6",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L47",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'tenant_id' present and validated"
    },
    {
      "cid": "ENV.7",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L49",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'data_locality' present and validated"
    },
    {
      "cid": "ENV.8",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L51",
      "group": "Envelope",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope field 'principal' present and validated"
    },
    {
      "cid": "ENV.9",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L53",
      "group": "Envelope",
      "level": "MUST",
      "phase": "PF",
      "text": "Envelope field 'timestamp' present and validated"
    },
    {
      "cid": "ERQ.1",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L145",
      "group": "Errors/TTL/Quota",
      "level": "SHOULD",
      "phase": "RO",
      "text": "**Gi\u1edbi h\u1ea1n T\u1ea7n su\u1ea5t (Rate Limiting):** (Tinh ch\u1ec9nh) Ngo\u00e0i c\u00e1c header X-RateLimit-*, c\u00e1c Agent x\u1eed l\u00fd qua Pub/Sub c\u0169ng ph\u1ea3i c\u00f3 c\u01a1 ch\u1ebf enforce quota d\u1ef1a tr\u00ean principal v\u00e0 tenant_id; \u0111\u1ed3ng b\u1ed9 tr\u1ea3 X-RateLimit-Limit / X-RateLimit-Remaining / Retry-After; b\u1ea5t \u0111\u1ed3ng b\u1ed9 tr\u1ea3 event l\u1ed7i n\u1ebfu v\u01b0\u1ee3t."
    },
    {
      "cid": "ERQ.2",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L153",
      "group": "Errors/TTL/Quota",
      "level": "MUST",
      "phase": "RO",
      "text": "Metric a2a_requests_total MUST be emitted with required labels"
    },
    {
      "cid": "ERQ.3",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L153",
      "group": "Errors/TTL/Quota",
      "level": "MUST",
      "phase": "RO",
      "text": "Metric a2a_latency_ms MUST be emitted with required labels"
    },
    {
      "cid": "ERQ.4",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L153",
      "group": "Errors/TTL/Quota",
      "level": "MUST",
      "phase": "RO",
      "text": "Metric a2a_dlq_total MUST be emitted with required labels"
    },
    {
      "cid": "ERQ.5",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L153",
      "group": "Errors/TTL/Quota",
      "level": "MUST",
      "phase": "RO",
      "text": "Metric a2a_retries_total MUST be emitted with required labels"
    },
    {
      "cid": "ERQ.6",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L155",
      "group": "Errors/TTL/Quota",
      "level": "MUST",
      "phase": "RO",
      "text": "ACK P95 \u2264 1s"
    },
    {
      "cid": "ERQ.7",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L155",
      "group": "Errors/TTL/Quota",
      "level": "MUST",
      "phase": "RO",
      "text": "Job-done P95 \u2264 ETA + 60s"
    },
    {
      "cid": "ERQ.8",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L155",
      "group": "Errors/TTL/Quota",
      "level": "MUST",
      "phase": "RO",
      "text": "DLQ/ng\u00e0y \u2264 0.1%"
    },
    {
      "cid": "REG.1",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L160",
      "group": "Registry/Versioning",
      "level": "MUST",
      "phase": "PF",
      "text": "*Heartbeat: M\u1ed7i agent B\u1eaeT BU\u1ed8C ph\u1ea3i g\u1eedi m\u1ed9t tin nh\u1eafn heartbeat \u0111\u1ebfn Registry theo chu k\u1ef3 (v\u00ed d\u1ee5: 5 ph\u00fat/l\u1ea7n). Registry s\u1ebd l\u01b0u l\u1ea1i last_seen_at v\u00e0 c\u00f3 th\u1ec3 \u0111\u00e1nh d\u1ea5u agent l\u00e0 degraded n\u1ebfu kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c heartbeat, cho ph\u00e9p c\u00e1c Process Agent c\u00f3 th\u1ec3 ch\u1ee7 \u0111\u1ed9ng gi\u1ea3m t\u1ea3i ho\u1eb7c \u0111\u1ecbnh tuy\u1ebfn l\u1ea1i c\u00e1c t\u00e1c v\u1ee5. *"
    },
    {
      "cid": "REG.10",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L184",
      "group": "Registry/Versioning",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Multi-agent E2E Test: M\u00f4 ph\u1ecfng m\u1ed9t quy tr\u00ecnh ho\u00e0n ch\u1ec9nh (v\u00ed d\u1ee5: Codex \u2192 Process Agent \u2192 Data Agent \u2192 Verifier Agent) v\u00e0 \u0111o l\u01b0\u1eddng SLOs (P95 \u22641s ACK)."
    },
    {
      "cid": "REG.2",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L162",
      "group": "Registry/Versioning",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**C\u00e1c Service Chu\u1ea9n h\u00f3a:** (B\u1ed5 sung action_version.)"
    },
    {
      "cid": "REG.3",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L164",
      "group": "Registry/Versioning",
      "level": "SHOULD",
      "phase": "PF",
      "text": "(Gi\u1eef nguy\u00ean t\u1eeb v3.0) /healthz, /readyz, /evidence/{job_id}."
    },
    {
      "cid": "REG.4",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L166",
      "group": "Registry/Versioning",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**(Tinh ch\u1ec9nh)** /mcp/capabilities: C\u00f4ng b\u1ed1 envelope_versions, danh s\u00e1ch actions (k\u00e8m action_version v\u00e0 max_payload_bytes), v\u00e0 transports; th\u00eam /acp/capabilities cho merger ACP-A2A."
    },
    {
      "cid": "REG.5",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L170",
      "group": "Registry/Versioning",
      "level": "MUST",
      "phase": "PF",
      "text": "Agent Data duy tr\u00ec registry li\u1ec7t k\u00ea actions, action_version, transports, max_payload_bytes c\u1ee7a t\u1eebng agent; /mcp/capabilities MUST kh\u1edbp registry (CI so kh\u1edbp)."
    },
    {
      "cid": "REG.6",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L176",
      "group": "Registry/Versioning",
      "level": "SHOULD",
      "phase": "PF",
      "text": "B\u1ed9 Ki\u1ec3m th\u1eed H\u1ee3p chu\u1ea9n (Conformance Test Suite):** (B\u1ed5 sung c\u00e1c b\u00e0i test m\u1edbi.)"
    },
    {
      "cid": "REG.7",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L178",
      "group": "Registry/Versioning",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Envelope Validation, Idempotency Test, Error Handling Test, Security Test, Large-payload Test, Out-of-order Test, TTL Test, Evidence Test."
    },
    {
      "cid": "REG.8",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L180",
      "group": "Registry/Versioning",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Version-negotiation Test: Client g\u1eedi m\u1ed9t action_version kh\u00f4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 v\u00e0 ph\u1ea3i nh\u1eadn v\u1ec1 l\u1ed7i INVALID_ARGUMENT + g\u1ee3i \u00fd phi\u00ean b\u1ea3n."
    },
    {
      "cid": "REG.9",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L182",
      "group": "Registry/Versioning",
      "level": "SHOULD",
      "phase": "PF",
      "text": "Cancel/Compensation Test: G\u1eedi y\u00eau c\u1ea7u h\u1ee7y khi t\u00e1c v\u1ee5 \u0111ang ch\u1ea1y v\u00e0 x\u00e1c nh\u1eadn nh\u1eadn \u0111\u01b0\u1ee3c s\u1ef1 ki\u1ec7n *.cancelled ho\u1eb7c *.compensated."
    },
    {
      "cid": "TRN.1",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L7",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**Nguy\u00ean t\u1eafc T\u01b0\u01a1ng th\u00edch M\u1edf (Interoperability First):** (Tinh ch\u1ec9nh t\u1eeb v3.0) H\u1ec7 th\u1ed1ng \u01b0u ti\u00ean \u00e1p d\u1ee5ng c\u00e1c giao th\u1ee9c m\u1edf \u0111\u01b0\u1ee3c c\u1ed9ng \u0111\u1ed3ng c\u00f4ng nh\u1eadn (v\u00ed d\u1ee5: MCP c\u1ee7a Anthropic v\u1edbi c\u1eadp nh\u1eadt security v\u00e0 structured output Jun 18 2025, A2A/Google v\u1edbi toolkit secure enterprise Jul 31 2025, ACP/IBM merger v\u1edbi A2A d\u01b0\u1edbi LF AI Aug 29 2025, OAS/HuggingFace cho open collab MMORPG AI NPC) v\u00e0 theo d\u00f5i c\u00e1c xu h\u01b0\u1edbng h\u1ee3p nh\u1ea5t ti\u00eau chu\u1ea9n (v\u00ed d\u1ee5: s\u1ef1 h\u1ee3p nh\u1ea5t c\u1ee7a A2A/Google v\u00e0 ACP/IBM d\u01b0\u1edbi LF AI) \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o kh\u1ea3 n\u0103ng t\u01b0\u01a1ng t\u00e1c r\u1ed9ng r\u00e3i, t\u1eadn d\u1ee5ng adapter hi\u1ec7n c\u00f3 nh\u01b0 Langroid MCP adapter v0.53.0 (Apr 2025) v\u00e0 LangChain MCP streamable HTTP (May 8 2025)."
    },
    {
      "cid": "TRN.10",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L198",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "T\u00e0i li\u1ec7u v\u1ec1 A2A/ACP (LF AI) - Merger Aug 29 2025 (IBM contribute BeeAI open-source)."
    },
    {
      "cid": "TRN.11",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L200",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "T\u00e0i li\u1ec7u v\u1ec1 OpenAI Function Calling."
    },
    {
      "cid": "TRN.12",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L202",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "T\u00e0i li\u1ec7u v\u1ec1 OAS/HuggingFace (MMORPG AI NPC, SmolAgents code-based 2025)."
    },
    {
      "cid": "TRN.13",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L204",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**V\u00ed d\u1ee5 M\u00e3 ngu\u1ed3n:**"
    },
    {
      "cid": "TRN.14",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L206",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "M\u00e3 ngu\u1ed3n m\u1eabu cho Langroid ToolMessage tri\u1ec3n khai Message Envelope v2.2 (hybrid MCP/A2A, adapter Apr 2025)."
    },
    {
      "cid": "TRN.2",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L9",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**Nguy\u00ean t\u1eafc Chu\u1ea9n h\u00f3a Giao th\u1ee9c (Standardized Protocol):** (Gi\u1eef nguy\u00ean t\u1eeb v3.0) M\u1ecdi giao ti\u1ebfp tr\u1ef1c ti\u1ebfp gi\u1eefa c\u00e1c Agent ph\u1ea3i tu\u00e2n th\u1ee7 m\u1ed9t giao th\u1ee9c chung, c\u00f3 c\u1ea5u tr\u00fac."
    },
    {
      "cid": "TRN.3",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L11",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**Nguy\u00ean t\u1eafc Chuy\u00ean m\u00f4n h\u00f3a (Specialization):** (Gi\u1eef nguy\u00ean t\u1eeb v3.0) M\u1ed7i Agent \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 gi\u1ea3i quy\u1ebft m\u1ed9t nh\u00f3m v\u1ea5n \u0111\u1ec1 c\u1ee5 th\u1ec3 v\u00e0 ch\u1ec9 l\u00e0m t\u1ed1t nh\u1ea5t vi\u1ec7c \u0111\u00f3."
    },
    {
      "cid": "TRN.4",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L13",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**Nguy\u00ean t\u1eafc B\u1ea5t \u0111\u1ed3ng b\u1ed9 (Asynchronous-First):** (Gi\u1eef nguy\u00ean t\u1eeb v3.0) Giao ti\u1ebfp qua h\u00e0ng \u0111\u1ee3i tin nh\u1eafn (Message Queue) nh\u01b0 Pub/Sub l\u00e0 ph\u01b0\u01a1ng th\u1ee9c \u0111\u01b0\u1ee3c \u01b0u ti\u00ean."
    },
    {
      "cid": "TRN.5",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L15",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**Nguy\u00ean t\u1eafc Idempotency:** (Gi\u1eef nguy\u00ean t\u1eeb v3.0) M\u1ecdi h\u00e0nh \u0111\u1ed9ng l\u00e0m thay \u0111\u1ed5i tr\u1ea1ng th\u00e1i ph\u1ea3i \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 c\u00f3 th\u1ec3 th\u1ef1c thi l\u1ea1i nhi\u1ec1u l\u1ea7n m\u00e0 kh\u00f4ng g\u00e2y ra k\u1ebft qu\u1ea3 ngo\u00e0i \u00fd mu\u1ed1n."
    },
    {
      "cid": "TRN.6",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L17",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**Nguy\u00ean t\u1eafc X\u00e1c minh \u0110\u1ed9c l\u1eadp (Independent Verification):** (Gi\u1eef nguy\u00ean t\u1eeb v3.0) M\u1ed9t Agent kh\u00f4ng \u0111\u01b0\u1ee3c coi l\u00e0 ho\u00e0n th\u00e0nh nhi\u1ec7m v\u1ee5 ch\u1ec9 d\u1ef1a tr\u00ean l\u1eddi x\u00e1c nh\u1eadn c\u1ee7a Agent kh\u00e1c; n\u00f3 ph\u1ea3i t\u1ef1 m\u00ecnh x\u00e1c minh k\u1ebft qu\u1ea3 cu\u1ed1i c\u00f9ng."
    },
    {
      "cid": "TRN.7",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L105",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "(Gi\u1eef nguy\u00ean t\u1eeb v3.0) H\u1ed7 tr\u1ee3 2 k\u00eanh: HTTP v\u00e0 Pub/Sub."
    },
    {
      "cid": "TRN.8",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L194",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "**Li\u00ean k\u1ebft \u0111\u1ebfn c\u00e1c Ti\u00eau chu\u1ea9n:**"
    },
    {
      "cid": "TRN.9",
      "doc_cite": "MD:docs/agent-a2a-constitution-v5.md#L196",
      "group": "Transport",
      "level": "SHOULD",
      "phase": "PF",
      "text": "T\u00e0i li\u1ec7u v\u1ec1 MCP (Anthropic) - Changelog Jun 18 2025: security (OAuth Resource Servers, RFC 8707), structured output (tool results/resource links), elicitation (request info)."
    }
  ],
  "source": "docs/agent-a2a-constitution-v5.md"
}
